Решил не привязываться к количеству и достоинству монет, - их может
быть сколько угодно и какого угодно достоинства.
соответствующие списки будут обновляться динамически.
на выполнение задания ушло не многим более 8 часов, т.к. сначала
увлекся и решил реализовать модель товарно денежных
отношений с помощью транзакций. - см. соответствующий блок юнит тестов
- там есть проверки данного функционала.
Для продажи автоматом такая модель не очень подходит, т.к. деньги
попадают в автомат до передачи продукта, в то
время как сама транзакция подразумевает одновременную передачу товара и денег.
для автомата реализовал упрощенную схему.
ПРоверяется наличие товара, сумма денег, возможность выдать сдачу,
если денег недостаточно то можно еще до внести, если нет подходящих
монет для сдачи то деньги возвращаются. Когда товара нет в наличии, то
он не попадает в список товаров автомата, но все равно сделал проверку
на отсутствие запрашиваемого товара.
как уже упомянул сделал динамические списки с товарами и деньгами, они
обновляются после каждого действия.
реализовал обновление вручную т.к. изменение конкретного экземпляра
списка не отлавливается notifyepropertychanged
данный интерфейс тоже реализовал для вывода текущего баланса и
описания принадлежности кошелька пользователю или автомату, связывание
с ui сделал с помощью bindig и datatemplates.
возможно не везде делал проверку входящих параметров, все таки это
тестовая задача, в реальных задачах более педантично
проверяю входные параметры функций.
кошелек и место для товаров есть и у машины и у пользователя, кошелек
машины решил выводить для наглядности,
также несложным преобразованием можно выводить и список товаров,
которые купил пользователь - список есть, при
желании можно вывести в ui
